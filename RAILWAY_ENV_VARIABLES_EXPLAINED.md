# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Railway

## VITE_SUPABASE_URL –∏ VITE_SUPABASE_ANON_KEY

### –ß—Ç–æ —ç—Ç–æ?
–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ **Supabase** ‚Äî –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –≤ –æ–±–ª–∞–∫–µ.

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã?
Supabase —Ö—Ä–∞–Ω–∏—Ç:
- **–ì–æ—Ä–æ–¥–∞** (`cities`) ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
- **–†–µ—Å—Ç–æ—Ä–∞–Ω—ã** (`restaurants`) ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- **–ú–µ–Ω—é** (`menu_categories`, `menu_items`) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –±–ª—é–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- **–ê–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (`admin_users`) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

### –ù—É–∂–Ω—ã –ª–∏?
**–î–ê, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã**, –µ—Å–ª–∏:
- –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –≥–æ—Ä–æ–¥–∞—Ö, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö –∏ –º–µ–Ω—é
- –ù—É–∂–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ–Ω—é –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏
- –•—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Supabase

**–ù–ï–¢, –Ω–µ –Ω—É–∂–Ω—ã**, –µ—Å–ª–∏:
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –≤–∞—à–µ–º backend API)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?
- `frontend/src/lib/supabase.ts` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ Supabase –∫–ª–∏–µ–Ω—Ç–∞
- `frontend/src/shared/api/profile/profile.supabase.ts` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ —á–µ—Ä–µ–∑ Supabase
- `frontend/src/features/admin/promotions/PromotionsManagement.tsx` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ü–∏—è–º–∏
- `frontend/src/features/home/PromotionsCarousel.tsx` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ü–∏–π

### Fallback –ª–æ–≥–∏–∫–∞
–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–¥–∞–Ω—ã:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω placeholder URL (`https://placeholder.supabase.co`)
- –§—É–Ω–∫—Ü–∏–∏, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç Supabase, –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## VITE_CART_API_URL, VITE_CART_RECALC_URL, VITE_CART_ORDERS_URL

### –ß—Ç–æ —ç—Ç–æ?
–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—é—Ç URL –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **–∫–æ—Ä–∑–∏–Ω–æ–π –∏ –∑–∞–∫–∞–∑–∞–º–∏** —á–µ—Ä–µ–∑ backend API (`cart-server.mjs`).

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã?
- **VITE_CART_API_URL** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ (`POST /api/cart/submit`)
- **VITE_CART_RECALC_URL** ‚Äî –ø–µ—Ä–µ—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–æ—Ä–∑–∏–Ω—ã (`POST /api/cart/recalculate`)
- **VITE_CART_ORDERS_URL** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`GET /api/cart/orders`)

### –ù—É–∂–Ω—ã –ª–∏?
**–î–ê, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã** –¥–ª—è Railway, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ **—Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `frontend.up.railway.app` –∏ `backend.up.railway.app`)
- –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏ (CORS)
- –ù—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π URL –±—ç–∫–µ–Ω–¥–∞

**–ù–ï–¢, –Ω–µ –Ω—É–∂–Ω—ã**, –µ—Å–ª–∏:
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ **–æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ nginx)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ `/api/cart/...`

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?
- `frontend/src/shared/api/cart/cartApi.ts` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ –∏ –ø–µ—Ä–µ—Å—á—ë—Ç –∫–æ—Ä–∑–∏–Ω—ã
- `frontend/src/shared/api/cart/ordersApi.ts` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤

### Fallback –ª–æ–≥–∏–∫–∞
–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–¥–∞–Ω—ã:
```typescript
// –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏:
VITE_CART_API_URL ?? "/api/cart/submit"
VITE_CART_RECALC_URL ?? "/api/cart/recalculate"  
VITE_CART_ORDERS_URL ?? "/api/cart/orders"
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ!

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: VITE_SERVER_API_URL

–í–º–µ—Å—Ç–æ —Ç—Ä—ë—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É:

```env
VITE_SERVER_API_URL=https://backend.up.railway.app/api
```

–¢–æ–≥–¥–∞ –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç –Ω—É–∂–Ω—ã–µ URL:
- `/api/cart/submit` ‚Üí `https://backend.up.railway.app/api/cart/submit`
- `/api/cart/recalculate` ‚Üí `https://backend.up.railway.app/api/cart/recalculate`
- `/api/cart/orders` ‚Üí `https://backend.up.railway.app/api/cart/orders`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `VITE_SERVER_API_URL`** –≤–º–µ—Å—Ç–æ —Ç—Ä—ë—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –ø—Ä–æ—â–µ –∏ —É–¥–æ–±–Ω–µ–µ!

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ú–æ–∂–Ω–æ –ª–∏ –±–µ–∑ –Ω–µ—ë? |
|------------|-------------|-------------------|
| `VITE_SUPABASE_URL` | üî¥ –í—ã—Å–æ–∫–∞—è | –ù–µ—Ç, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase –¥–ª—è –¥–∞–Ω–Ω—ã—Ö |
| `VITE_SUPABASE_ANON_KEY` | üî¥ –í—ã—Å–æ–∫–∞—è | –ù–µ—Ç, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase –¥–ª—è –¥–∞–Ω–Ω—ã—Ö |
| `VITE_CART_API_URL` | üü° –°—Ä–µ–¥–Ω—è—è | –î–∞, –µ—Å–ª–∏ –µ—Å—Ç—å `VITE_SERVER_API_URL` –∏–ª–∏ –æ–¥–∏–Ω –¥–æ–º–µ–Ω |
| `VITE_CART_RECALC_URL` | üü° –°—Ä–µ–¥–Ω—è—è | –î–∞, –µ—Å–ª–∏ –µ—Å—Ç—å `VITE_SERVER_API_URL` –∏–ª–∏ –æ–¥–∏–Ω –¥–æ–º–µ–Ω |
| `VITE_CART_ORDERS_URL` | üü° –°—Ä–µ–¥–Ω—è—è | –î–∞, –µ—Å–ª–∏ –µ—Å—Ç—å `VITE_SERVER_API_URL` –∏–ª–∏ –æ–¥–∏–Ω –¥–æ–º–µ–Ω |
| `VITE_SERVER_API_URL` | üü¢ –ù–∏–∑–∫–∞—è* | –î–∞, –Ω–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Ç—Ä–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã—à–µ |

\* `VITE_SERVER_API_URL` –∏–º–µ–µ—Ç –Ω–∏–∑–∫—É—é –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—ë –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ç—Ä–µ–º—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –Ω–æ –æ–Ω–∞ —É–¥–æ–±–Ω–µ–µ.

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Railway

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase)
```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=xxx
VITE_SERVER_API_URL=https://backend.up.railway.app/api
```

### –ü–æ–ª–Ω–∞—è (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —è–≤–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π endpoint)
```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=xxx
VITE_CART_API_URL=https://backend.up.railway.app/api/cart/submit
VITE_CART_RECALC_URL=https://backend.up.railway.app/api/cart/recalculate
VITE_CART_ORDERS_URL=https://backend.up.railway.app/api/cart/orders
```

---

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –±–µ–∑ —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?

### –ë–µ–∑ VITE_SUPABASE_URL/VITE_SUPABASE_ANON_KEY:
- ‚ùå –ù–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≥–æ—Ä–æ–¥–∞, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –º–µ–Ω—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ —Å–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–º–∏
- ‚ùå –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ Supabase
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

### –ë–µ–∑ VITE_CART_API_URL/VITE_CART_RECALC_URL/VITE_CART_ORDERS_URL:
- ‚ùå –ù–µ–ª—å–∑—è –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑
- ‚ùå –ù–µ–ª—å–∑—è –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–æ—Ä–∑–∏–Ω—ã
- ‚ùå –ù–µ–ª—å–∑—è –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –Ω–æ –∫–æ—Ä–∑–∏–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### –ë–µ–∑ VITE_SERVER_API_URL (–Ω–æ —Å —Ç—Ä–µ–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤—ã—à–µ):
- ‚úÖ –í—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚ö†Ô∏è –ü—Ä–æ—Å—Ç–æ –±–æ–ª—å—à–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

# üö® –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ CORS –¥–ª—è VK Mini App

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ CORS.

## –†–µ—à–µ–Ω–∏–µ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–±)

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Railway Dashboard (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí —Å–µ—Ä–≤–∏—Å **backend**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables**
4. –ù–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `CORS_ALLOWED_ORIGINS`
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `https://mariko-vld.vercel.app`
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
7. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ (~30 —Å–µ–∫—É–Ω–¥)

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Railway CLI

```bash
railway variables set CORS_ALLOWED_ORIGINS=https://mariko-vld.vercel.app --service backend
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ `backend/server/.env` (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ, –µ—Å–ª–∏ –Ω–µ—Ç)
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```
   CORS_ALLOWED_ORIGINS=https://mariko-vld.vercel.app
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   bash scripts/setup-railway-env.sh
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ ~30 —Å–µ–∫—É–Ω–¥ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) - –æ—à–∏–±–∫–∏ CORS –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å

## –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:
```bash
railway logs --service backend
```

–ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å `CORS:` - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç, –∫–∞–∫–∏–µ origins —Ä–∞–∑—Ä–µ—à–µ–Ω—ã.

---

üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [`VK_CORS_FIX.md`](./VK_CORS_FIX.md)

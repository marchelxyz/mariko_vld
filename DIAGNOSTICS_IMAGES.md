# Диагностика проблемы с отображением изображений в меню

## Проблема
Изображения загружаются в Яндекс Storage, но не отображаются в меню.

## Шаги диагностики

### 1. Проверьте переменные окружения
Убедитесь, что в `.env` или `.env.local` настроены:
```bash
YANDEX_STORAGE_PUBLIC_URL=https://storage.yandexcloud.net/ваш-бакет
# или
YANDEX_STORAGE_PUBLIC_URL=https://ваш-бакет.storage.yandexcloud.net
```

### 2. Проверьте публичный доступ к бакету
1. Откройте Яндекс Cloud Console
2. Перейдите в Object Storage → ваш бакет
3. Проверьте настройки доступа:
   - Должен быть включен "Публичный доступ на чтение"
   - Или настроен публичный URL через CDN/домен

### 3. Проверьте логи сервера
После загрузки изображения проверьте логи:
```bash
# Должны увидеть:
# "Файл успешно загружен" с URL
# "Сохранение блюда" с imageUrl
# "Загрузка блюда из БД" с imageUrl
```

### 4. Проверьте URL в базе данных
Выполните SQL запрос:
```sql
SELECT id, name, image_url FROM menu_items WHERE image_url IS NOT NULL LIMIT 5;
```

### 5. Проверьте URL в браузере
Откройте URL изображения напрямую в браузере:
- Если изображение открывается - проблема в фронтенде
- Если не открывается - проблема с доступом к Яндекс Storage

### 6. Проверьте CORS настройки
Если изображения не загружаются из браузера, проверьте CORS настройки бакета:
- Разрешенные источники: `*` или ваш домен
- Разрешенные методы: `GET`, `HEAD`

## Решение проблем

### Если URL не сохраняется в БД:
- Проверьте логи сервера при сохранении меню
- Убедитесь, что `item.imageUrl` передается правильно

### Если URL сохраняется, но не отображается:
- Проверьте консоль браузера на ошибки CORS
- Проверьте, что URL начинается с `https://`
- Проверьте, что изображение доступно публично

### Если изображения не доступны публично:
- Включите публичный доступ в настройках бакета
- Или настройте `YANDEX_STORAGE_PUBLIC_URL` правильно

# –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –Ω–∞ Timeweb

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–∫—Ä–∞—Ç–∫–æ)

### 1. –°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
- [ ] IP –∞–¥—Ä–µ—Å Timeweb (–∏–∑ –ø–∞–Ω–µ–ª–∏ Timeweb)
- [ ] –î–æ–º–µ–Ω Railway (–∏–∑ Railway Dashboard ‚Üí Settings ‚Üí Networking)
- [ ] –î–æ–º–µ–Ω Vercel (–∏–∑ Vercel Dashboard ‚Üí Settings ‚Üí Domains)
- [ ] –í–∞—à –¥–æ–º–µ–Ω (–∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ Timeweb)

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS
- [ ] –°–æ–∑–¥–∞–π—Ç–µ A –∑–∞–ø–∏—Å—å: `@` ‚Üí IP Timeweb
- [ ] –°–æ–∑–¥–∞–π—Ç–µ A –∑–∞–ø–∏—Å—å: `www` ‚Üí IP Timeweb
- [ ] –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-60 –º–∏–Ω—É—Ç

### 3. –í—ã–ø—É—Å—Ç–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –ß–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å Timeweb: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã ‚Üí –í—ã–ø—É—Å—Ç–∏—Ç—å
- [ ] –ò–ª–∏ —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É Timeweb

### 4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ `scripts/timeweb/nginx-failover.conf.template`
- [ ] –ó–∞–º–µ–Ω–∏—Ç–µ `__DOMAIN__` ‚Üí –≤–∞—à –¥–æ–º–µ–Ω
- [ ] –ó–∞–º–µ–Ω–∏—Ç–µ `__VERCEL_ORIGIN__` ‚Üí –¥–æ–º–µ–Ω Vercel
- [ ] –ó–∞–º–µ–Ω–∏—Ç–µ `__RAILWAY_ORIGIN__` ‚Üí –¥–æ–º–µ–Ω Railway
- [ ] –ó–∞–º–µ–Ω–∏—Ç–µ `__FALLBACK_WEB_ROOT__` ‚Üí `/var/www/html`
- [ ] –ó–∞–º–µ–Ω–∏—Ç–µ `__LOCAL_API_PORT__` ‚Üí `4010`

### 5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Timeweb: —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/nginx/sites-available/–≤–∞—à-–¥–æ–º–µ–Ω.com`
- [ ] –í—Å—Ç–∞–≤—å—Ç–µ –≥–æ—Ç–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –í–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É

### 6. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –í Vercel: `VITE_SERVER_API_URL=/api`
- [ ] –í Railway (bot): `WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com`

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É
- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.com` ‚Äî –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∞–π—Ç
- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/cart/health` ‚Äî –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç –æ—Ç Railway

---

## –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

üìñ –ü–æ–ª–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [`NGINX_SETUP_TIMEWEB.md`](./NGINX_SETUP_TIMEWEB.md)

---

## –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è"?

**–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:**
- –í–∞—à –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Timeweb (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP)
- Nginx –Ω–∞ Timeweb –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- Nginx –ø–µ—Ä–µ–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å—ã –¥–∞–ª—å—à–µ –Ω–∞ Railway –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ (`backend.up.railway.app`)
- Railway –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç
- Nginx –ø–µ—Ä–µ–¥–∞—ë—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ü–æ—á–µ–º—É –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è, –∞ –Ω–µ IP?**
- IP –∞–¥—Ä–µ—Å Railway –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è Railway –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ IP –∏–∑–º–µ–Ω–∏–ª—Å—è
- Nginx –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏

üìñ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ: [`RAILWAY_DOMAIN_EXPLAINED.md`](./RAILWAY_DOMAIN_EXPLAINED.md)
